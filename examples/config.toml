# Tomat Configuration Example
# 
# Copy this file to ~/.config/tomat/config.toml and customize as needed.
# All settings are optional - tomat works great with built-in defaults.
#
# Quick setup:
#   mkdir -p ~/.config/tomat
#   cp examples/config.toml ~/.config/tomat/config.toml

[timer]
work = 25.0           # Work session duration in minutes (default: 25.0)
break = 5.0           # Break duration in minutes (default: 5.0)
long_break = 15.0     # Long break duration in minutes (default: 15.0)
sessions = 4          # Number of work sessions before long break (default: 4)
auto_advance = "none" # Auto-advance mode (default: "none")
                      # Options: "none", "all", "to-break", "to-work"
                      # - "none": Pause after every transition (full manual control)
                      # - "all": Auto-advance through all phases
                      # - "to-break": Auto-advance only from work to break
                      # - "to-work": Auto-advance only from break to work
                      # (boolean true/false also supported for backwards compatibility)

[sound]
enabled = true      # Enable sound notifications (default: true)
system_beep = false # Use system beep instead of sound files (default: false)
use_embedded = true # Use embedded sound files (default: true)
volume = 0.5        # Volume level 0.0-1.0 (default: 0.5)

# Custom sound files (optional - will override embedded sounds)
# work_to_break = "/path/to/custom/work-to-break.wav"
# break_to_work = "/path/to/custom/break-to-work.wav" 
# work_to_long_break = "/path/to/custom/work-to-long-break.wav"

[notification]
enabled = true # Enable desktop notifications (default: true)
icon = "auto"  # Icon mode (default: "auto")
timeout = 5000 # Notification timeout in milliseconds (default: 3000)

# Icon mode options:
# "auto"               - Use embedded icon, cached to ~/.cache/tomat/icon.png (works with mako)
# "theme"              - Use system theme icon ("timer")
# "/path/to/icon.png"  - Use custom icon file

[display]
text_format = "{icon} {time} {state}" # Text display format (default: "{icon} {time} {state}")

# Available placeholders:
# {icon}    - Phase icon (ðŸ… for work, â˜• for break, ðŸ–ï¸ for long break)
# {time}    - Remaining time (MM:SS format)
# {state}   - Play/pause symbol (â–¶ when running, â¸ when paused)
# {phase}   - Phase name ("Work", "Break", or "Long Break")
# {session} - Current session (e.g., "1/4", empty for break phases)
#
# Example formats:
# text_format = "{time}"                    # "25:00"
# text_format = "{phase}: {time}"           # "Work: 25:00"
# text_format = "[{session}] {icon} {time}" # "[1/4] ðŸ… 25:00"
# text_format = "{time} {state}"            # "25:00 â–¶"

[hooks]
# Execute custom commands on timer events (all optional)
#
# Each hook can have these fields:
#   cmd (required): Command to execute (absolute path recommended)
#   args (optional): Array of arguments, default []
#   timeout (optional): Timeout in seconds, default 5
#   cwd (optional): Working directory, default $HOME
#   capture_output (optional): Capture stdout/stderr for debugging, default false
#
# Available hooks:
#   on_work_start, on_break_start, on_long_break_start
#   on_pause, on_resume, on_stop, on_complete, on_skip
#
# SECURITY NOTES:
#   - Hooks execute with daemon's user privileges
#   - Only configure trusted commands
#   - Commands are executed directly (no shell), preventing injection attacks
#   - Never run the daemon as root
#
# Environment variables available to hooks:
#   TOMAT_EVENT - Event name (e.g., "work_start", "pause")
#   TOMAT_PHASE - Current phase ("work", "break", "long_break")
#   TOMAT_REMAINING_SECONDS - Seconds remaining in current phase
#   TOMAT_SESSION_COUNT - Current session number
#   TOMAT_AUTO_ADVANCE - Auto-advance mode ("none", "all", "to-break", "to-work")

# Example: Send custom notification when work starts
# [hooks.on_work_start]
# cmd = "notify-send"
# args = ["ðŸ… Work Time", "Focus for 25 minutes"]

# Example: Pause music during work sessions
# [hooks.on_work_start]
# cmd = "playerctl"
# args = ["pause"]
# timeout = 2

# Example: Resume music during breaks
# [hooks.on_break_start]
# cmd = "playerctl"
# args = ["play"]

# Example: Dim screen when timer is paused
# [hooks.on_pause]
# cmd = "/home/user/scripts/dim-screen.sh"
# cwd = "/home/user"
# timeout = 3

# Example: Restore brightness when timer resumes
# [hooks.on_resume]
# cmd = "/home/user/scripts/restore-brightness.sh"
# cwd = "/home/user"

# Example: Log completed sessions to file
# [hooks.on_complete]
# cmd = "sh"
# args = ["-c", "echo \"$(date): $TOMAT_PHASE completed\" >> ~/tomat.log"]
# capture_output = true

# Common customizations:
#
# Longer work sessions:
# [timer]
# work = 45.0
# break = 15.0
#
# Automatic progression through all phases:
# [timer]
# auto_advance = "all"
#
# Enforced breaks (auto-advance only to break):
# [timer]
# auto_advance = "to-break"
#
# Self-paced breaks (auto-advance only to work):
# [timer]
# auto_advance = "to-work"
#
# Silent mode:
# [sound]
# enabled = false
#
# Custom notification timeout:
# [notification]
# timeout = 5000  # 5 seconds
